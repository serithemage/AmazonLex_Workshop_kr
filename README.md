Amazon Lex 한국어 챗봇 빌드 워크숍

# Amazon Lex 초 간단 설명서(가제)

Amazon Lex 한국어 챗봇 빌드 워크숍에 오신것을 환영합니다. 이 문서는 Amazon Lex로 한국어 챗봇을 만들기 위해 필요한 최소한의 지식들을 빠르게 익힐 수 있도록 작성되었 습니다. Amazon Lex의 개발과 관련한 좀 더 상세한 내용은 [Amazon Lex 개발자 안내서](https://docs.aws.amazon.com/lexv2/latest/dg/what-is.html)를 참조해 주세요.

## Amazon Lex란?

Amazon Lex는 음성과 텍스트를 사용해 대화형 인터페이스를 구축하는 서비스입니다. Alexa에 적용된 것과 같은 대화형 엔진을 사용하는 Amazon Lex는 고품질 음성 인식 및 언어 처리 기능을 제공하여 정교한 자연어 '챗봇'을 기존 또는 새로운 애플리케이션에 추가할 수 있습니다. Amazon Lex에서는 좀 더 간단하게 다중 플랫폼을 개발할 수 있으므로, 사용자가 음성 또는 텍스트 챗봇을 모바일 디바이스 및 여러 채팅 서비스(Facebook Messenger, Slack, Kik, Twilio SMS 등)에 손쉽게 게시할 수 있습니다. AWS Lambda, 및 Amazon CloudWatch와 기본적으로 상호 운용되고 Amazon Cognito, Amazon DynamoDB를 비롯하여 AWS 플랫폼의 다른 많은 서비스와 손쉽게 통합되므로 간편하게 봇을 개발할 수 있습니다.

## Amazon Lex을 사용하기 위해 알아야 하는 용어/개념 설명 

- 봇
  - 역할
  - 유휴 세션 제한시간
  - 정보 수집 및 COPPA(Children's Online Privacy Protection Act) 적용  
    Amazon Lex는 문제 해결 및 서비스 개선을 위해 고객 콘텐츠를 수집합니다. 고객 콘텐츠는 기본적으로 보호되며 Amazon Lex API를 사용하여 개별 고객의 콘텐츠를 삭제할 수 있습니다.  
    Amazon Lex는 네 가지 유형의 콘텐츠를 저장합니다.  
      - 봇을 빌드하고 훈련하는 데 사용되는 샘플 발언
      - 봇과 상호 작용하는 사용자의 고객 발언
      - 사용자가 봇과 상호 작용하는 동안 애플리케이션별 정보를 제공하는 세션 속성
      - 봇에 대한 단일 요청에 적용되는 정보가 포함된 요청 속성
    미국에 기반을 둔 회사가 13세 이하 어린이를 대상으로 한 봇을 제공하고자 하는 경우 콘솔 또는 Amazon Lex API를 사용하여 childDirected필드를 true로 설정하여 봇이 어린이 온라인 개인정보 보호법(COPPA)의 적용을 받는다고 Amazon Lex에 알립니다. childDirected필드가 true로 설정 되면 사용자 발언이 저장되지 않습니다.

  - 언어  
    Amazon Lex 한국어를 포함해 13개 언어를 지원합니다.  Amazon Lex가 지원하는 언어에 대한 정보는 [Amazon Lex가 지원하는 언어](https://docs.aws.amazon.com/lex/latest/dg/how-it-works-language.html)에서 확인하실 수 있습니다. 
    - 음성 상호 작용  
      인터페이스에 사용할 언어를 지정합니다. Amazon Lex는 동시에 여러 언어를 사용할 수 있도록 복수의 언어를 음성 상호 작용에 추가하는것이 가능합니다. 
    - 의도 분류 신뢰도 점수 임계값

      사용자가 발언을 하면 Amazon Lex는 자연어 이해(NLU)를 사용하여 사용자의 요청을 이해하고 적절한 의도를 반환합니다. 기본적으로 Amazon Lex는 봇이 정의한 가능성이 가장 높은 의도를 반환합니다.

      경우에 따라 Amazon Lex가 가장 가능성 있는 의도를 결정하기 어려울 수 있습니다. 예를 들어 사용자가 모호한 발언을 하거나 유사한 의도가 두 개 있을 수 있습니다. 적절한 의도를 결정하는 데 도움이 되도록 도메인 지식 을 대체 의도 목록의 신뢰도 점수 와 결합할 수 있습니다 . 신뢰도 점수는 Amazon Lex가 의도가 올바른 의도인지 얼마나 확신하는지 보여주는 등급입니다.

      두 대체 의도 간의 차이를 확인하기 위해 신뢰 점수를 비교할 수 있습니다. 예를 들어 한 의도의 신뢰도 점수가 0.95이고 다른 의도의 점수가 0.65인 경우 첫 번째 의도가 정확할 수 있습니다. 그러나 한 인텐트의 점수가 0.75이고 다른 인텐트의 점수가 0.72인 경우 애플리케이션에서 도메인 지식을 사용하여 구별할 수 있는 두 인텐트 사이에 모호성이 있습니다.

      또한 신뢰도 점수를 사용하여 인텐트 발언의 변경 사항이 봇의 동작에 영향을 미치는지 여부를 결정하는 테스트 애플리케이션을 생성할 수 있습니다. 예를 들어 일련의 발언을 사용하여 봇의 의도에 대한 신뢰도 점수를 얻은 다음 새 발언으로 의도를 업데이트할 수 있습니다. 그런 다음 신뢰도 점수를 확인하여 개선 사항이 있는지 확인할 수 있습니다.

      Amazon Lex가 반환하는 신뢰도 점수는 비교 값입니다. 절대 점수로 의존해서는 안됩니다. 값은 Amazon Lex의 개선 사항에 따라 변경될 수 있습니다.

- 의도(Intent)
  - 대화 흐름
  - 샘플 표현
  - 슬롯
  - 확인 프롬프트 및 거부 응답
  - 응답을 닫는 중
  - 코드 후크
    - 초기화 및 검증에 Lambda 함수 사용
    - 이행에 Lambda 함수 사용